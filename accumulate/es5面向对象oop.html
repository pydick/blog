<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript设计模式之面向对象编程 | pyidck’s blog</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/blog/favicon.png">
    <meta name="description" content="No pain, no gains!">
    <link rel="preload" href="/blog/assets/css/0.styles.4645c9e8.css" as="style"><link rel="preload" href="/blog/assets/js/app.9c23803f.js" as="script"><link rel="preload" href="/blog/assets/js/3.ec8707ea.js" as="script"><link rel="preload" href="/blog/assets/js/6.14672258.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.ecb16849.js"><link rel="prefetch" href="/blog/assets/js/11.0019cf10.js"><link rel="prefetch" href="/blog/assets/js/12.82032be1.js"><link rel="prefetch" href="/blog/assets/js/13.58285228.js"><link rel="prefetch" href="/blog/assets/js/14.f7fcb477.js"><link rel="prefetch" href="/blog/assets/js/15.0302eb2b.js"><link rel="prefetch" href="/blog/assets/js/16.12183172.js"><link rel="prefetch" href="/blog/assets/js/17.4cab7e3f.js"><link rel="prefetch" href="/blog/assets/js/18.62198fc0.js"><link rel="prefetch" href="/blog/assets/js/19.aa2586ad.js"><link rel="prefetch" href="/blog/assets/js/2.c73acbc3.js"><link rel="prefetch" href="/blog/assets/js/20.0b6b4fad.js"><link rel="prefetch" href="/blog/assets/js/21.4196d290.js"><link rel="prefetch" href="/blog/assets/js/4.69fb14c8.js"><link rel="prefetch" href="/blog/assets/js/5.e369d7c0.js"><link rel="prefetch" href="/blog/assets/js/7.e63ead44.js"><link rel="prefetch" href="/blog/assets/js/8.8a79bc87.js"><link rel="prefetch" href="/blog/assets/js/9.163afa6d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.4645c9e8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/favicon.png" alt="pyidck’s blog" class="logo"> <span class="site-name can-hide">pyidck’s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/accumulate/" class="nav-link router-link-active">
  前端进阶积累
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/cognize/" class="nav-link">
  认知
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/accumulate/" class="nav-link router-link-active">
  前端进阶积累
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/cognize/" class="nav-link">
  认知
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>概述</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/accumulate/vue开发插件.html" class="sidebar-link">vue开发插件</a></li><li><a href="/blog/accumulate/高德地图.html" class="sidebar-link">高德地图</a></li><li><a href="/blog/accumulate/svg.html" class="sidebar-link">svg</a></li><li><a href="/blog/accumulate/axios的二次封装.html" class="sidebar-link">axios的二次封装</a></li><li><a href="/blog/accumulate/promise.html" class="sidebar-link">promise</a></li><li><a href="/blog/accumulate/async&amp;await.html" class="sidebar-link">async&amp;await</a></li><li><a href="/blog/accumulate/es5面向对象oop.html" class="active sidebar-link">es5面向对象oop</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/accumulate/es5面向对象oop.html#javascript设计模式之面向对象编程" class="sidebar-link">JavaScript设计模式之面向对象编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/accumulate/es5面向对象oop.html#_1、定义" class="sidebar-link">1、定义</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/es5面向对象oop.html#_2、封装" class="sidebar-link">2、封装</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/es5面向对象oop.html#_3、继承" class="sidebar-link">3、继承</a></li></ul></li></ul></li><li><a href="/blog/accumulate/归纳点.html" class="sidebar-link">归纳点</a></li><li><a href="/blog/accumulate/刷题.html" class="sidebar-link">刷题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="javascript设计模式之面向对象编程"><a href="#javascript设计模式之面向对象编程" class="header-anchor">#</a> JavaScript设计模式之面向对象编程</h2> <p>谈谈es5 面向对象</p> <h3 id="_1、定义"><a href="#_1、定义" class="header-anchor">#</a> 1、定义</h3> <p>简单来说，面向对象编程就是将你的需求抽象成一个对象，然后对这个对象进行分析，为其添加对应的特征（属性）与行为（方法），我们将这个对象称之为 类。
面向对象一个很重要的特点就是封装，虽然 javascript 这种解释性的弱类型语言没有像一些经典的强类型语言(例如C++，JAVA等)有专门的方式用来实现类的封装，但我们可以利用 javascript 语言灵活的特点，去模拟实现这些功能，接下里我们就一起来看看~</p> <h3 id="_2、封装"><a href="#_2、封装" class="header-anchor">#</a> 2、封装</h3> <p>创建一个类</p> <p>在 javascript 中要创建一个类是很容易的，比较常见的方式就是首先声明一个函数保存在一个变量中（一般类名首字母大写），然后将这个函数（类）的内部通过对 this 对象添加属性或者方法来实现对类进行属性或方法的添加，例如</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//创建一个类</span>
<span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们也可以在类的原型对象(prototype)上添加属性和方法，有两种方式，一种是一一为原型对象的属性赋值，以一种是将一个对象赋值给类的原型对象：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//为类的原型对象属性赋值</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showInfo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//展示信息</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'My name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">,</span> <span class="token string">', I\'m '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">' years old!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//将对象赋值给类的原型对象</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">showInfo</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token comment">//展示信息</span>
	    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'My name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">,</span> <span class="token string">', I\'m '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">' years old!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>这样我们就将所需要属性和方法都封装在 Person 类里面了，当我们要用的时候，首先得需要使用 new 关键字来实例化（创建）新的对象，通过 . 操作符就可以使用实例化对象的属性或者方法了~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>        <span class="token comment">// Tom</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// My name is Tom , I'm 24 years old!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们刚说到有两种方式来添加属性和方法，那么这两种方式有啥不同呢？</p> <p>通过 this 添加的属性和方法是在当前对象添加的，而 javascript 语言的特点是基于原型 prototype 的，是通过 原型prototype 指向其继承的属性和方法的；通过 prototype 继承的方法并不是对象自身的，使用的时候是通过 prototype 一级一级查找的，这样我们通过 this 定义的属性或者方法都是该对象自身拥有的，我们每次通过 new 运算符创建一个新对象时， this 指向的属性和方法也会得到相应的创建，但是通过 prototype 继承的属性和方法是每个对象通过 prototype 访问得到，每次创建新对象时这些属性和方法是不会被再次创建的，如下图所示：</p> <p><img src="/blog/assets/img/oop1.770d17b2.png" alt="oop图1">
其中 constructor 是一个属性，当创建一个函数或者对象的时候都会给原型对象创建一个 constructor 属性，指向拥有整个原型对象的函数或者对象。
如果我们采用第一种方式给原型对象(prototype)上添加属性和方法，执行下面的语句会得到 true ：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那么好奇的小伙伴会问，那我采用第二种方式给原型对象(prototype)上添加属性和方法会是什么结果呢？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>卧槽，什么鬼，为什么会产生这种结果？
原因在于第二种方式是将一整个对象赋值给了原型对象(prototype)，这样会导致原来的原型对象(prototype)上的属性和方法会被全部覆盖掉（pass: 实际开发中两种方式不要混用），那么 constructor 的指向当然也发生了变化，这就导致了原型链的错乱，因此，我们需要手动修正这个问题，在原型对象(prototype)上手动添加上 constructor 属性，重新指向 Person ，保证原型链的正确，即：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">constructor</span> <span class="token operator">:</span> Person <span class="token punctuation">,</span>
		<span class="token function-variable function">showInfo</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">//展示信息</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'My name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">,</span> <span class="token string">', I\'m '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">' years old!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token punctuation">)</span> <span class="token comment">// true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>属性与方法的封装</p> <p>在大部分面向对象的语言中，经常会对一些类的属性和方法进行隐藏和暴露，所以就会有 私有属性、私有方法、公有属性、公有方法等这些概念~
在 ES6 之前， javascript 是没有块级作用域的，有函数级作用域，即声明在函数内部的变量和方法在外部是无法访问的，可以通过这个特性模拟创建类的 私有变量 和 私有方法 ，而函数内部通过 this 创建的属性和方法，在类创建对象的时候，每个对象都会创建一份并可以让外界访问，因此我们可以将通过 this 创建的属性和方法看作是 实例属性 和 实例方法，然而通过 this 创建的一些方法们不但可以访问对象公有属性和方法，还能访问到类（创建时）或对象自身的私有属性和私有方法，由于权力这些方法的权力比较大，因此成为 特权方法 ，通过 new 创建的对象无法通过 . 运算符访问类外面添加的属性和和方法，只能通过类本身来访问，因此，类外部定义的属性和方法被称为类的 静态公有属性 和 静态公有方法 ， 通过类的原型 prototype 对象添加的属性和方法，其实例对象都是通过 this 访问到的，所以我们将这些属性和方法称为 公有属性 和 公有方法，也叫 原型属性 和 原型方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>        <span class="token comment">//创建一个类</span>
	<span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	    <span class="token comment">//私有属性</span>
    	    <span class="token keyword">var</span> IDNumber <span class="token operator">=</span> <span class="token string">'01010101010101010101'</span> <span class="token punctuation">;</span>
    	    <span class="token comment">//私有方法</span>
            <span class="token keyword">function</span> <span class="token function">checkIDNumber</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token comment">//特权方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getIDNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token comment">//实例属性</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
            <span class="token comment">//实例方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//类静态属性</span>
        Person<span class="token punctuation">.</span>isChinese <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token comment">//类静态方法</span>
        Person<span class="token punctuation">.</span><span class="token function-variable function">staticMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is a staticMethod'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//公有属性</span>
	<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>isRich <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token comment">//公有方法</span>
        <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showInfo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>通过 new 创建的对象只能访问到对应的 实例属性 、实例方法 、原型属性 和 原型方法 ，而无法访问到类的静态属性和私有属性，类的私有属性和私有方法只能通过类自身方法，即：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>        <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>IDNumber<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>isRich<span class="token punctuation">)</span>  <span class="token comment">// false</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Tom</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>isChinese<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
        
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>isChinese<span class="token punctuation">)</span> <span class="token comment">// true</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// this is a staticMethod</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>创建对象的安全模式
我们在创建对象的时候，如果我们习惯了 jQuery 的方式，那么我们很可能会在实例化对象的时候忘记用 new 运算符来构造，而写出来下面的代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>        <span class="token comment">//创建一个类</span>
	<span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这时候 person 已经不是我们期望的那样，是 Person 的一个实例了~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>  <span class="token comment">// undifined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那么我们创建的 name、age 都不翼而飞了，当然不是，他们被挂到了 window 对象上了，</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">// Tom</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>age<span class="token punctuation">)</span>   <span class="token comment">// 24</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>我们在没有使用 new 操作符来创建对象，当执行 Person 方法的时候，这个函数就在全局作用域中执行了，此时 this 指向的也就是全局变量，也就是 window 对象，所以添加的属性都会被添加到 window 上，而我们的 person 变量在得到 Person 的执行结果时，由于函数中没有 return 语句， 默认返回了 undifined。</p> <p>为了避免这种问题的存在，我们可以采用安全模式解决，稍微修个一下我们的类即可，</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//创建一个类</span>
	<span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 判断执行过程中的 this 是否是当前这个对象 （如果为真，则表示是通过 new 创建的）</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Person</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token comment">// 否则重新创建对象</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ok，我们现在测试一下~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>	<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>         <span class="token comment">// Person</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token comment">// Tom</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>     <span class="token comment">// 24</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token comment">// undefined</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>age<span class="token punctuation">)</span>     <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样就可以避免我们忘记使用 new 构建实例的问题了~</p> <p>pass：这里我用的 window.name ，这个属性比较特殊，它是 window 自带的，用于设置或返回存放窗口的名称的一个字符串，注意更换~</p> <h3 id="_3、继承"><a href="#_3、继承" class="header-anchor">#</a> 3、继承</h3> <p>继承也是面型对象的一大特征，但是 javascript 中没有传统意义上的继承，但是我们依旧可以借助 javascript 的语言特色，模拟实现继承</p> <h4 id="类式继承"><a href="#类式继承" class="header-anchor">#</a> 类式继承</h4> <p>比较常见的一种继承方式，原理就是我们是实例化一个父类，新创建的对象会复制父类构造函数内的属性和方法，并将圆形 <strong>proto</strong> 指向父类的原型对象，这样就拥有了父类原型对象上的方法和属性，我们在将这个对象赋值给子类的原型，那么子类的原型就可以访问到父类的原型属性和方法，进而实现了继承，其代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//声明父类</span>
    <span class="token keyword">function</span> <span class="token function">Super</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>superValue <span class="token operator">=</span> <span class="token string">'super'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//为父类添加原型方法</span>
    <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getSuperValue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>superValue<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
	
    <span class="token comment">//声明子类</span>
    <span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>childValue <span class="token operator">=</span> <span class="token string">'child'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	
    <span class="token comment">//继承父类</span>
    <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//为子类添加原型方法</span>
    <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getChildValue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>我们测试一下~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getSuperValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// super</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getChildValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// child</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>但是这种继承方式会有两个问题，第一由于子类通过其原型 prototype 对其父类实例化，继承父类，只要父类的公有属性中有引用类型，就会在子类中被所有实例共用，如果其中一个子类更改了父类构造函数中的引用类型的属性值，会直接影响到其他子类，例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//声明父类</span>
    <span class="token keyword">function</span> <span class="token function">Super</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>superObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    		<span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    		<span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//声明子类</span>
    <span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    <span class="token comment">//继承父类</span>
    <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>superObject<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// { a : 1 , b : 2 }</span>
    child2<span class="token punctuation">.</span>superObject<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>superObject<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// { a : 3,  b : 2 }</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>这会对后面的操作造成很大困扰！
第二，由于子类是通过原型 prototype 对父类的实例化实现的，所以在创建父类的时间，无法给父类传递参数，也就无法在实例化父类的时候对父类构造函数内部的属性进行初始化操作。
为了解决这些问题，那么就衍生出其他的继承方式。
构造函数继承
利用 call 这个方法可以改变函数的作用环境，在子类中调用这个方法，将子类中的变量在父类中执行一遍，由于父类中是给 this 绑定的， 因此子类也就继承了父类的实例属性，即：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
    <span class="token comment">//声明父类</span>
    <span class="token keyword">function</span> <span class="token function">Super</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>superObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    		<span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    		<span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//为父类添加原型方法</span>
    <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSuperObject</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>superValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//声明子类</span>
    <span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token comment">// 继承父类</span>
        <span class="token function">Super</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    child1<span class="token punctuation">.</span>superObject<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>superObject<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// { a : 3 , b : 2 }</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>           <span class="token comment">// Tom</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>superObject<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// { a : 1,  b : 2 }</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Jack</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>Super.call(this,value) 这段代码是构造函数继承的精华，这样就可以避免类式继承的问题了~
但这种继承方式没有涉及到原型 prototype ， 所以父类的原型方法不会得到继承，而如果要想被子类继承，就必须要放到构造函数中，这样创建出来的每个实例都会单独拥有一份，不能共用，为了解决这个问题，有了 组合式继承。</p> <h4 id="组合式继承"><a href="#组合式继承" class="header-anchor">#</a> 组合式继承</h4> <p>我们只要在子类的构造函数作用环境中执行一次父类的构造函数，在将子类的原型 prorotype 对父类进行实例化一次，就可以实现 组合式继承 ， 即：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//声明父类</span>
    <span class="token keyword">function</span> <span class="token function">Super</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>superObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    		<span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    		<span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//为父类添加原型方法</span>
    <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSuperObject</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>superObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//声明子类</span>
    <span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token comment">// 构造函数式继承父类 value 属性</span>
        <span class="token function">Super</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//类式继承</span>
    <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    child1<span class="token punctuation">.</span>superObject<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span><span class="token function">showSuperObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// { a : 3 , b : 2 }</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>                   <span class="token comment">// Tom</span>
    child1<span class="token punctuation">.</span>superObject<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span><span class="token function">showSuperObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// { a : 1,  b : 2 }</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// Jack</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>这样就能融合类式继承和构造函数继承的有点，并且过滤掉其缺点。
看起来是不是已经很完美了，NO ， 细心的同学可以发现，我们在使用构造函数继承时执行了一遍父类的构造函数，而在实现子类原型的类式继承时又调用了一父类的构造函数，那么父类的构造函数执行了两遍，这一点是可以继续优化的。</p> <h4 id="寄生组合式继承"><a href="#寄生组合式继承" class="header-anchor">#</a> 寄生组合式继承</h4> <p>--------------------------------转载：https://juejin.im/post/6844903668320321544</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/30/2025, 7:01:30 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/accumulate/async&amp;await.html" class="prev">
        async&amp;await
      </a></span> <span class="next"><a href="/blog/accumulate/归纳点.html">
        归纳点
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.9c23803f.js" defer></script><script src="/blog/assets/js/3.ec8707ea.js" defer></script><script src="/blog/assets/js/6.14672258.js" defer></script>
  </body>
</html>
