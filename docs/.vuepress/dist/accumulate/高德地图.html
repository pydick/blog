<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>高德地图 | pyidck’s blog</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/blog/favicon.png">
    <meta name="description" content="No pain, no gains!">
    <link rel="preload" href="/blog/assets/css/0.styles.5608eb1c.css" as="style"><link rel="preload" href="/blog/assets/js/app.b20ed355.js" as="script"><link rel="preload" href="/blog/assets/js/2.5595bcc7.js" as="script"><link rel="preload" href="/blog/assets/js/3.d4555585.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.6f1625fb.js"><link rel="prefetch" href="/blog/assets/js/11.15c0259f.js"><link rel="prefetch" href="/blog/assets/js/12.ba1c6a1c.js"><link rel="prefetch" href="/blog/assets/js/13.43b1e9ac.js"><link rel="prefetch" href="/blog/assets/js/14.568ddf75.js"><link rel="prefetch" href="/blog/assets/js/15.9f70e73e.js"><link rel="prefetch" href="/blog/assets/js/16.131ecad5.js"><link rel="prefetch" href="/blog/assets/js/17.5b3f6336.js"><link rel="prefetch" href="/blog/assets/js/18.c5aa4cec.js"><link rel="prefetch" href="/blog/assets/js/19.5bb6d762.js"><link rel="prefetch" href="/blog/assets/js/20.7c526414.js"><link rel="prefetch" href="/blog/assets/js/21.b610f6c4.js"><link rel="prefetch" href="/blog/assets/js/4.78934e54.js"><link rel="prefetch" href="/blog/assets/js/5.f1017ad7.js"><link rel="prefetch" href="/blog/assets/js/6.352c25b0.js"><link rel="prefetch" href="/blog/assets/js/7.01dd36e3.js"><link rel="prefetch" href="/blog/assets/js/8.7d429707.js"><link rel="prefetch" href="/blog/assets/js/9.1a71829d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5608eb1c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/favicon.png" alt="pyidck’s blog" class="logo"> <span class="site-name can-hide">pyidck’s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/accumulate/" class="nav-link router-link-active">
  前端进阶积累
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/cognize/" class="nav-link">
  认知
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/accumulate/" class="nav-link router-link-active">
  前端进阶积累
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/cognize/" class="nav-link">
  认知
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>概述</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/accumulate/vue开发插件.html" class="sidebar-link">vue开发插件</a></li><li><a href="/blog/accumulate/高德地图.html" class="active sidebar-link">高德地图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#高德地图" class="sidebar-link">高德地图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_1、快速上手" class="sidebar-link">1、快速上手</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_2、个性化地图" class="sidebar-link">2、个性化地图</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_3、鼠标工具插件" class="sidebar-link">3、鼠标工具插件</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_4、距离测量插件" class="sidebar-link">4、距离测量插件</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_5、地图覆盖物" class="sidebar-link">5、地图覆盖物</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_6、搜索服务" class="sidebar-link">6、搜索服务</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_7、出行规划" class="sidebar-link">7、出行规划</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_8、热力图插件" class="sidebar-link">8、热力图插件</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#_9、点聚合插件" class="sidebar-link">9、点聚合插件</a></li><li class="sidebar-sub-header"><a href="/blog/accumulate/高德地图.html#扩展" class="sidebar-link">扩展</a></li></ul></li></ul></li><li><a href="/blog/accumulate/svg.html" class="sidebar-link">svg</a></li><li><a href="/blog/accumulate/axios的二次封装.html" class="sidebar-link">axios的二次封装</a></li><li><a href="/blog/accumulate/promise.html" class="sidebar-link">promise</a></li><li><a href="/blog/accumulate/async&amp;await.html" class="sidebar-link">async&amp;await</a></li><li><a href="/blog/accumulate/es5面向对象oop.html" class="sidebar-link">es5面向对象oop</a></li><li><a href="/blog/accumulate/归纳点.html" class="sidebar-link">归纳点</a></li><li><a href="/blog/accumulate/刷题.html" class="sidebar-link">刷题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="高德地图"><a href="#高德地图" class="header-anchor">#</a> 高德地图</h2> <p>说说高德地图,遇到的问题，AMap.PlaceSearch的图片加载不出来，起个服务就好了</p> <h3 id="_1、快速上手"><a href="#_1、快速上手" class="header-anchor">#</a> 1、快速上手</h3> <p>首先注册个开发者账号
<img src="/blog/assets/img/map1.ec07e640.png" alt="map图1">
然后创建应用，获取Key
<img src="/blog/assets/img/map2.cbd3a95f.png" alt="map图2">
新建HTML文件，在body标签中引入如下代码（把你的Key值填入即可）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>	<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;http://webapi.amap.com/maps?v=1.3&amp;key=您申请的key值&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建设置地图容器</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>css</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">#container</span> <span class="token punctuation">{</span><span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>地图初始化</p> <ol><li>创建地图</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>设置地图参数
可以通过以下设置</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    	zoom<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    	center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">112.549248</span><span class="token punctuation">,</span><span class="token number">37.852135</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>也可通过map对象的方法设置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	map<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	map<span class="token punctuation">.</span><span class="token function">setCenter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">112.549248</span><span class="token punctuation">,</span><span class="token number">37.852135</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>预览
<img src="/blog/assets/img/map3.04e79c1f.png" alt="map图3"></p> <h3 id="_2、个性化地图"><a href="#_2、个性化地图" class="header-anchor">#</a> 2、个性化地图</h3> <p><strong>改变地图样式</strong>
目前支持五种地图配色模版</p> <p>地图类型列表</p> <table><thead><tr><th>名称</th> <th>名称</th></tr></thead> <tbody><tr><td>normal</td> <td>默认样式</td></tr> <tr><td>dark</td> <td>深色样式</td></tr> <tr><td>blue_night</td> <td>夜空蓝样式</td></tr> <tr><td>fresh</td> <td>浅色样式</td></tr> <tr><td>light</td> <td>osm清新风格样式</td></tr></tbody></table> <p>可以这样设置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        resizeEnable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        mapStyle<span class="token operator">:</span><span class="token string">'fresh'</span><span class="token punctuation">,</span>
        center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">116.408075</span><span class="token punctuation">,</span> <span class="token number">39.950187</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以这样设置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>map.setMapStyle(&quot;fresh&quot;);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>预览
<img src="/blog/assets/img/map4.71d12761.png" alt="map图4"></p> <p><strong>显示指定地图内容（地图要素）</strong></p> <table><thead><tr><th>名称</th> <th>说明</th></tr></thead> <tbody><tr><td>bg</td> <td>背景地图</td></tr> <tr><td>point</td> <td>兴趣点</td></tr> <tr><td>road</td> <td>道路</td></tr> <tr><td>building</td> <td>建筑</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">setFeatures</span><span class="token punctuation">(</span><span class="token string">&quot;road&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//单一种类要素显示</span>
map<span class="token punctuation">.</span><span class="token function">setFeatures</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'road'</span><span class="token punctuation">,</span><span class="token string">'point'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//多个种类要素显示</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>预览（只显示道路要素的地图）
<img src="/blog/assets/img/map5.c36a9a7d.png" alt="map图5"> <strong>地图控件</strong></p> <p>JavaScript API提供了工具条、比例尺、定位、鹰眼、基本图层切换等常用的控件</p> <table><thead><tr><th>名称</th> <th>类名</th> <th>简介</th></tr></thead> <tbody><tr><td>工具条</td> <td>ToolBar</td> <td>集成了缩放、平移、定位等功能按钮在内的组合控件</td></tr> <tr><td>比例尺</td> <td>Scale</td> <td>展示地图在当前层级和纬度下的比例尺</td></tr> <tr><td>定位</td> <td>Geolocation</td> <td>用来获取和展示用户主机所在的经纬度位置</td></tr> <tr><td>鹰眼</td> <td>OverView</td> <td>在地图右下角显示地图的缩略图</td></tr> <tr><td>类别切换</td> <td>MapType</td> <td>实现默认图层与卫星图、实施交通图层之间切换的控</td></tr></tbody></table> <p>添加控件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.ToolBar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>ToolBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 工具条控件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（其他控件添加方式同上）</p> <p>预览（带有工具条控件的地图）</p> <p><img src="/blog/assets/img/map6.28309c3d.png" alt="map图6"></p> <h3 id="_3、鼠标工具插件"><a href="#_3、鼠标工具插件" class="header-anchor">#</a> 3、鼠标工具插件</h3> <p><strong>测量距离</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览</p> <p><img src="/blog/assets/img/map7.c805dd7f.png" alt="map图7"></p> <p><strong>测量面积</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">measureArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map8.4d89c5e2.png" alt="map图8"></p> <p><strong>绘制点标注</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map9.e9fcba60.png" alt="map图9"></p> <p><strong>绘制折线</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">polyline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map10.89023331.png" alt="map图10"></p> <p><strong>绘制多边形</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map11.67cd165e.png" alt="map图11"> <strong>绘制矩形</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map12.959a01d6.png" alt="map图12"></p> <p><strong>绘制圆</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map13.8b115f55.png" alt="map图13">
全部功能</p> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td><code>marker( options：MarkerOptions)</code></td> <td>开启鼠标画点标注模式。鼠标在地图上单击绘制点标注，标注样式参考MarkerOptions设置</td></tr> <tr><td><code>polyline( options：PolylineOptions)</code></td> <td>开启鼠标画折线模式。鼠标在地图上点击绘制折线，鼠标左键双击或右键单击结束绘制，折线样式参考PolylineOptions设置</td></tr> <tr><td><code>polygon( options：PolygonOptions)</code></td> <td>开启鼠标画多边形模式。鼠标在地图上单击开始绘制多边形，鼠标左键双击或右键单击结束当前多边形的绘制，多边形样式参考PolygonOptions设置</td></tr> <tr><td><code>rectangle( options：PolygonOptions)</code></td> <td>开启鼠标画矩形模式。鼠标在地图上拉框即可绘制相应的矩形。矩形样式参考PolygonOptions设置</td></tr> <tr><td><code>circle( options：CircleOptions)</code></td> <td>开启鼠标画圆模式。鼠标在地图上拖动绘制相应的圆形。圆形样式参考CircleOptions设置</td></tr> <tr><td><code>rule( options：PolylineOptions)</code></td> <td>开启距离量测模式。鼠标在地图上单击绘制量测节点，并计算显示两两节点之间的距离，鼠标左键双击或右键单击结束当前量测操作。量测线样式参考 PolylineOptions 设置注：不能同时使用rule方法和RangTool插件进行距离量测</td></tr> <tr><td><code>measureArea( options：PolygonOptions)</code></td> <td>开启面积量测模式。鼠标在地图上单击绘制量测区域，鼠标左键双击或右键单击结束当前量测操作，并显示本次量测结果。量测面样式参考PolygonOptions设置</td></tr> <tr><td><code>rectZoomIn( options：PolygonOptions)</code></td> <td>开启鼠标拉框放大模式。鼠标可在地图上拉框放大地图。矩形框样式参考PolygonOptions设置</td></tr> <tr><td><code>rectZoomOut( options：PolygonOptions)</code></td> <td>开启鼠标拉框缩小模式。鼠标可在地图上拉框缩小地图。矩形框样式参考PolygonOptions设置</td></tr> <tr><td><code>close( Boolean)</code></td> <td>关闭当前鼠标操作。参数arg设为true时，鼠标操作关闭的同时清除地图上绘制的所有覆盖物对象；设为false时，保留所绘制的覆盖物对象。默认为false</td></tr></tbody></table> <p><strong>自定义覆盖物样式</strong>
以折线为例 Polyline</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MouseTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> mouseTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MouseTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	mouseTool<span class="token punctuation">.</span><span class="token function">polyline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		strokeColor<span class="token operator">:</span><span class="token string">&quot;#f50&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 线条颜色，十六进制</span>
		strokeOpacity<span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// 线条透明度</span>
		strokeWeight<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 线条宽度</span>
		strokeStyle<span class="token operator">:</span><span class="token string">&quot;dashed&quot;</span> <span class="token comment">// 线条样式 solid || dashed</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>更多详细参数参考(http://lbs.amap.com/api/javascript-api/reference/overlay#PolylineOptions)</p> <p>预览</p> <p><img src="/blog/assets/img/map14.4ea96ff3.png" alt="map图14"></p> <h3 id="_4、距离测量插件"><a href="#_4、距离测量插件" class="header-anchor">#</a> 4、距离测量插件</h3> <p><strong>区别</strong>
虽然鼠标工具插件也提供距离量测功能，
但是距离量测插件，提供更为丰富的样式设置功能。</p> <p><strong>加载插件</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.RangingTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> rangingTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>RangingTool</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
	rangingTool<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 开启量测功能</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map15.480508d4.png" alt="map图15"></p> <p>样式设置</p> <table><thead><tr><th>RangingToolOptions</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>startMarkerOptions</code></td> <td><code>Object</code></td> <td>设置量测起始点标记属性对象，包括点标记样式、大小等，参考   MarkerOptions  列表</td></tr> <tr><td><code>midMarkerOptions</code></td> <td><code>Object</code></td> <td>设置量测中间点标记属性对象，包括点标记样式、大小等，参考  MarkerOptions  列表</td></tr> <tr><td><code>endMarkerOptions</code></td> <td><code>Object</code></td> <td>设置量测结束点标记属性对象，包括点标记样式、大小等，参考  MarkerOptions  列表</td></tr> <tr><td><code>lineOptions</code></td> <td><code>Object</code></td> <td>设置距离量测线的属性对象，包括线样式、颜色等，参考  PolylineOptions 列表</td></tr> <tr><td><code>tmpLineOptions</code></td> <td><code>Object</code></td> <td>设置距离量测过程中临时量测线的属性对象，包括线样式、颜色等，参考  PolylineOptions  列表</td></tr> <tr><td><code>startLabelText</code></td> <td><code>String</code></td> <td>设置量测起始点标签的文字内容，默认为“起点”</td></tr> <tr><td><code>midLabelText</code></td> <td><code>String</code></td> <td>设置量测中间点处标签的文字内容，默认为当前量测结果值</td></tr> <tr><td><code>endLabelText</code></td> <td><code>String</code></td> <td>设置量测结束点处标签的文字内容，默认为当前量测结果值</td></tr> <tr><td><code>startLabelOffset</code></td> <td><code>Pixel</code></td> <td>设置量测起始点标签的偏移量。默认值：Pixel(-6, 6)</td></tr> <tr><td><code>midLabelOffset</code></td> <td><code>Pixel</code></td> <td>设置量测中间点标签的偏移量。默认值：Pixel(-6, 6)</td></tr> <tr><td><code>endLabelOffset</code></td> <td><code>Pixel</code></td> <td>设置量测结束点标签的偏移量。默认值：Pixel(-6, 6)</td></tr></tbody></table> <p>示例
<strong>改变标签文字</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.RangingTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> rangingTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>RangingTool</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span><span class="token punctuation">{</span>
		startLabelText<span class="token operator">:</span><span class="token string">&quot;START&quot;</span><span class="token punctuation">,</span>
		midLabelText<span class="token operator">:</span><span class="token string">&quot;MID&quot;</span><span class="token punctuation">,</span>
		endLabelText<span class="token operator">:</span><span class="token string">&quot;END&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	rangingTool<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>预览
<img src="/blog/assets/img/map16.ce3c8f9f.png" alt="map图16"> <strong>改变线条样式</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.RangingTool&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> rangingTool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>RangingTool</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span><span class="token punctuation">{</span>
		lineOptions<span class="token operator">:</span><span class="token punctuation">{</span>
			strokeColor<span class="token operator">:</span><span class="token string">&quot;#ff3300&quot;</span><span class="token punctuation">,</span>
			strokeStyle<span class="token operator">:</span><span class="token string">&quot;dashed&quot;</span><span class="token punctuation">,</span>
			strokeWeight<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
			strokeOpacity<span class="token operator">:</span><span class="token number">0.5</span><span class="token punctuation">,</span>
			isOutline<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
			outlineColor<span class="token operator">:</span><span class="token string">&quot;#009933&quot;</span><span class="token punctuation">,</span>
			showDir<span class="token operator">:</span><span class="token boolean">true</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	rangingTool<span class="token punctuation">.</span><span class="token function">turnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>预览
<img src="/blog/assets/img/map17.bae4858e.png" alt="map图17"></p> <p><strong>绘制太原市区的大概范围代码</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 用坐标拾取器获得坐标</span>
<span class="token keyword">var</span> lineArr<span class="token operator">=</span><span class="token punctuation">[</span>
	<span class="token punctuation">[</span><span class="token number">112.490931</span><span class="token punctuation">,</span><span class="token number">37.898793</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.553588</span><span class="token punctuation">,</span><span class="token number">37.898793</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.603026</span><span class="token punctuation">,</span><span class="token number">37.899877</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.605086</span><span class="token punctuation">,</span><span class="token number">37.855028</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.605601</span><span class="token punctuation">,</span><span class="token number">37.831169</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.610236</span><span class="token punctuation">,</span><span class="token number">37.824661</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.610236</span><span class="token punctuation">,</span><span class="token number">37.798487</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.602683</span><span class="token punctuation">,</span><span class="token number">37.793739</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.499171</span><span class="token punctuation">,</span><span class="token number">37.793739</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.495051</span><span class="token punctuation">,</span><span class="token number">37.794553</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.500544</span><span class="token punctuation">,</span><span class="token number">37.830762</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.500716</span><span class="token punctuation">,</span><span class="token number">37.843099</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.48973</span><span class="token punctuation">,</span><span class="token number">37.847301</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.489901</span><span class="token punctuation">,</span><span class="token number">37.896897</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.492476</span><span class="token punctuation">,</span><span class="token number">37.8992</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 实例化一个Polyline类</span>
<span class="token keyword">var</span> polyline<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Polyline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	path<span class="token operator">:</span>lineArr<span class="token punctuation">,</span>
	strokeColor<span class="token operator">:</span><span class="token string">&quot;#ff2200&quot;</span><span class="token punctuation">,</span>
	strokeWeight<span class="token operator">:</span><span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加到地图中</span>
polyline<span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_5、地图覆盖物"><a href="#_5、地图覆盖物" class="header-anchor">#</a> 5、地图覆盖物</h3> <p><strong>覆盖物</strong></p> <table><thead><tr><th>类名</th> <th>说明</th> <th>是否插件</th></tr></thead> <tbody><tr><td><code>AMap.Marker</code></td> <td>点标记</td> <td>否</td></tr> <tr><td><code>AMap.Icon</code></td> <td>覆盖物&gt;点标记&gt;复杂点标记对象，对普通点标记Marker 的扩展</td> <td>否</td></tr> <tr><td><code>AMap.Polyline</code></td> <td>覆盖物&gt;折线</td> <td>否</td></tr> <tr><td><code>AMap.Polygon</code></td> <td>覆盖物&gt;多边形</td> <td>否</td></tr> <tr><td><code>AMap.Circle</code></td> <td>覆盖物&gt;圆</td> <td>否</td></tr> <tr><td><code>AMap.GroundImage</code></td> <td>图片覆盖物</td> <td>否</td></tr> <tr><td><code>AMap.ContextMenu</code></td> <td>地图右键菜单</td> <td>否</td></tr></tbody></table> <p><strong>点标记</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> marker<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	map<span class="token operator">:</span>map<span class="token punctuation">,</span>
	position<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>LngLat</span><span class="token punctuation">(</span><span class="token number">112.736465</span><span class="token punctuation">,</span><span class="token number">37.696495</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map18.87818b91.png" alt="map图18"> <strong>自定义点标记</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> marker<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	map<span class="token operator">:</span>map<span class="token punctuation">,</span>
	position<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>LngLat</span><span class="token punctuation">(</span><span class="token number">112.736465</span><span class="token punctuation">,</span><span class="token number">37.696495</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	icon<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Icon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		image<span class="token operator">:</span><span class="token string">&quot;https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2803620233,1906638381&amp;fm=23&amp;gp=0.jpg&quot;</span><span class="token punctuation">,</span>
		size<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">,</span><span class="token number">72</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		imageSize<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	draggable<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	raiseOnDrag<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	shape<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerShape</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		type<span class="token operator">:</span><span class="token string">&quot;circle&quot;</span><span class="token punctuation">,</span>
		coords<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">112.736465</span><span class="token punctuation">,</span><span class="token number">37.696495</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	label<span class="token operator">:</span><span class="token punctuation">{</span>
		content<span class="token operator">:</span><span class="token string">&quot;label&quot;</span><span class="token punctuation">,</span>
		offset<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">36</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>预览
<img src="/blog/assets/img/map19.a101edd3.png" alt="map图19"></p> <p><strong>多边形</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> lineArr<span class="token operator">=</span><span class="token punctuation">[</span>
	<span class="token punctuation">[</span><span class="token number">112.49157</span><span class="token punctuation">,</span><span class="token number">37.897392</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.602806</span><span class="token punctuation">,</span><span class="token number">37.898747</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.608643</span><span class="token punctuation">,</span><span class="token number">37.797355</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.49775</span><span class="token punctuation">,</span><span class="token number">37.79627</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> polygon<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Polygon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	map<span class="token operator">:</span>map<span class="token punctuation">,</span>
	path<span class="token operator">:</span>lineArr
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>预览
<img src="/blog/assets/img/map20.2f04a1b7.png" alt="map图20"> <strong>右键菜单</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> contextmenu<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>ContextMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pos<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 添加右键菜单内容项</span>
contextmenu<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">&quot;放大&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	map<span class="token punctuation">.</span><span class="token function">zoomIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
contextmenu<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">&quot;缩小&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	map<span class="token punctuation">.</span><span class="token function">zoomOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
contextmenu<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">&quot;添加点标记&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> marker<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		map<span class="token operator">:</span>map<span class="token punctuation">,</span>
		position<span class="token operator">:</span>pos
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听鼠标右击事件</span>
map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;rightclick&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	contextmenu<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>e<span class="token punctuation">.</span>lnglat<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pos<span class="token operator">=</span>e<span class="token punctuation">.</span>lnglat<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>预览
<img src="/blog/assets/img/map21.aba50fee.png" alt="map图21"></p> <p><strong>信息窗体</strong>
信息窗体</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> infowindow<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	isCustom<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
	content<span class="token operator">:</span><span class="token string">&quot;&lt;h3&gt;Hello,Yuanping&lt;/h3&gt;&quot;</span><span class="token punctuation">,</span>
	offset<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	showShadow<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	closeWhenClickMap<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	autoMove<span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
infowindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>LngLat</span><span class="token punctuation">(</span><span class="token number">112.736465</span><span class="token punctuation">,</span><span class="token number">38.696495</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>预览
<img src="/blog/assets/img/map22.304a54b1.png" alt="map图22"></p> <p><strong>鼠标划过山西大剧院时，弹出信息窗体 代码</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 坐标</span>
<span class="token keyword">var</span> lineArr<span class="token operator">=</span><span class="token punctuation">[</span>
	<span class="token punctuation">[</span><span class="token number">112.532802</span><span class="token punctuation">,</span><span class="token number">37.808395</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533049</span><span class="token punctuation">,</span><span class="token number">37.808395</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533124</span><span class="token punctuation">,</span><span class="token number">37.808476</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533521</span><span class="token punctuation">,</span><span class="token number">37.808459</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533558</span><span class="token punctuation">,</span><span class="token number">37.808391</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533832</span><span class="token punctuation">,</span><span class="token number">37.808391</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533848</span><span class="token punctuation">,</span><span class="token number">37.80792</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.534159</span><span class="token punctuation">,</span><span class="token number">37.807959</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.534159</span><span class="token punctuation">,</span><span class="token number">37.80748</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533826</span><span class="token punctuation">,</span><span class="token number">37.807514</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533832</span><span class="token punctuation">,</span><span class="token number">37.807179</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533966</span><span class="token punctuation">,</span><span class="token number">37.806848</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533376</span><span class="token punctuation">,</span><span class="token number">37.806683</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.533054</span><span class="token punctuation">,</span><span class="token number">37.806687</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.532684</span><span class="token punctuation">,</span><span class="token number">37.806878</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.53278</span><span class="token punctuation">,</span><span class="token number">37.807191</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.532796</span><span class="token punctuation">,</span><span class="token number">37.80745</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.532013</span><span class="token punctuation">,</span><span class="token number">37.807285</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.532019</span><span class="token punctuation">,</span><span class="token number">37.808213</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.532796</span><span class="token punctuation">,</span><span class="token number">37.808018</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">112.532818</span><span class="token punctuation">,</span><span class="token number">37.808412</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 实例化Polygon类</span>
<span class="token keyword">var</span> polygon<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Polygon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	map<span class="token operator">:</span>map<span class="token punctuation">,</span>
	path<span class="token operator">:</span>lineArr
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 适应窗口</span>
map<span class="token punctuation">.</span><span class="token function">setFitView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 实例化信息窗体类</span>
<span class="token keyword">var</span> infowindow<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>InfoWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	content<span class="token operator">:</span><span class="token string">&quot;&lt;h3&gt;太原市&lt;/h3&gt;&lt;p&gt;山西大剧院&lt;/p&gt;&quot;</span><span class="token punctuation">,</span>
	closeWhenClickMap<span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听鼠标移入、移除事件</span>
polygon<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	infowindow<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>map<span class="token punctuation">.</span><span class="token function">getCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	infowindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="_6、搜索服务"><a href="#_6、搜索服务" class="header-anchor">#</a> 6、搜索服务</h3> <p>搜索服务</p> <table><thead><tr><th>名称</th> <th>说明</th> <th>是否插件</th></tr></thead> <tbody><tr><td><code>AMap.Autocomplete</code></td> <td>输入提示，根据输入关键字提示匹配信息</td> <td>是</td></tr> <tr><td><code>AMap.PlaceSearch</code></td> <td>地点搜索服务插件，提供某一特定地区的位置查询服务</td> <td>是</td></tr> <tr><td><code>AMap.PlaceSearchLayer</code></td> <td>麻点图插件，提供海量搜索结果的辅助显示功能</td> <td>是</td></tr> <tr><td><code>AMap.DistrictSearch</code></td> <td>行政区查询服务，提供行政区相关信息</td> <td>是</td></tr> <tr><td><code>AMap.LineSearch</code></td> <td>公交路线服务，提供公交路线相关信息查询服务</td> <td>是</td></tr> <tr><td><code>AMap.StationSearch</code></td> <td>公交站点查询服务，提供途经公交线路、站点经纬度等信息</td> <td>是</td></tr></tbody></table> <p><strong>地点搜索插件 AMap.PlaceSearch</strong>
创建地点查询类的实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 创建地点查询类的实例</span>
AMap<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">&quot;AMap.PlaceSearch&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> s1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>PlaceSearch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		city<span class="token operator">:</span><span class="token string">&quot;北京市&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 搜索范围的城市</span>
		type<span class="token operator">:</span><span class="token string">&quot;风景名胜&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 搜索类型</span>
		map<span class="token operator">:</span>map<span class="token punctuation">,</span> <span class="token comment">// 可选，AMap示例</span>
		panel<span class="token operator">:</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 可选，结果列表的HTML容器id或容器元素</span>
		pageSize<span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 结果，单页展示结果数</span>
		pageIndex<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 结果，页码</span>
		extensions<span class="token operator">:</span><span class="token string">&quot;all&quot;</span> <span class="token comment">// 信息，默认值 &quot;base&quot;, 详细信息 &quot;all&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>根据关键字搜索</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 关键字搜索</span>
s1<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">&quot;八达岭&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map23.2c1447db.png" alt="map图23"></p> <p>根据中心点经纬度、半径以及关键字进行周边查询（周边搜索）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 周边搜索</span>
s1<span class="token punctuation">.</span><span class="token function">searchNearBy</span><span class="token punctuation">(</span><span class="token string">&quot;餐饮&quot;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">116.403322</span><span class="token punctuation">,</span> <span class="token number">39.920255</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map24.00d15680.png" alt="map图24"></p> <p>根据范围和关键词进行范围查询</p> <p>var lnglat1=new AMap.LngLat( 116.403322, 39.920255);
var lnglat2=new AMap.LngLat( 116.389846, 39.891365);
s1.searchInBounds('酒店',new AMap.Bounds(lnglat1,lnglat2));</p> <p>预览
<img src="/blog/assets/img/map25.4907da94.png" alt="map图25">
根据POIID 查询POI详细信息
POIID是返回数据（JSON）的一个 id 值
<img src="/blog/assets/img/map26.c146362e.png" alt="map图26"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>s1<span class="token punctuation">.</span><span class="token function">getDetails</span><span class="token punctuation">(</span><span class="token string">&quot;B000A82RP2&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>poiList<span class="token punctuation">.</span>pois<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  		window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">.</span>poiList<span class="token punctuation">.</span>pois<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map27.5dcd9134.png" alt="map图27"></p> <p><strong>公交线路搜索插件 AMap.LineSearch</strong>
创建公交线路查询类的实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>AMap<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">&quot;AMap.LineSearch&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 		<span class="token keyword">var</span> lineSearch<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>LineSearch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     		city<span class="token operator">:</span><span class="token string">&quot;太原&quot;</span><span class="token punctuation">,</span>
   		extensions<span class="token operator">:</span><span class="token string">&quot;all&quot;</span>         
   	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>按关键字查询公交线路</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>lineSearch<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">&quot;901&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	
   	<span class="token keyword">if</span> <span class="token punctuation">(</span>status<span class="token operator">===</span><span class="token string">&quot;complete&quot;</span> <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>info<span class="token operator">===</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
       	window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>预览
<img src="/blog/assets/img/map28.32779979.png" alt="map图28"></p> <p>按id查询公交线路</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>lineSearch<span class="token punctuation">.</span><span class="token function">searchById</span><span class="token punctuation">(</span><span class="token string">&quot;140100010458&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>	
   	<span class="token keyword">if</span> <span class="token punctuation">(</span>status<span class="token operator">===</span><span class="token string">&quot;complete&quot;</span> <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span>info<span class="token operator">===</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
       	window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>预览
<img src="/blog/assets/img/map29.ff2d1877.png" alt="map图29"></p> <p><strong>LineInfo 对象</strong></p> <ul><li>基本信息</li></ul> <table><thead><tr><th>属性</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>id</td> <td>String</td> <td>公交线路id，该id是唯一标识</td></tr> <tr><td>name</td> <td>String</td> <td>公交线路名称</td></tr> <tr><td>path</td> <td><code>Array.&lt;LngLat&gt;</code></td> <td>公交线路经纬度</td></tr> <tr><td>citycode</td> <td>String</td> <td>公交线路所在城市的城市编码</td></tr> <tr><td>type</td> <td>String</td> <td>公交类型列表</td></tr> <tr><td>type</td> <td>String</td> <td>公交类型列表</td></tr> <tr><td>start_stop</td> <td>String</td> <td>首发站</td></tr> <tr><td>end_stop</td> <td>String</td> <td>终点站</td></tr></tbody></table> <ul><li>详细信息</li></ul> <table><thead><tr><th>属性</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>stime</td> <td>String</td> <td>首班车时间</td></tr> <tr><td>etime</td> <td>String</td> <td>末班车时间</td></tr> <tr><td>basic_price</td> <td>String</td> <td>起步票价，单位：元</td></tr> <tr><td>total_price</td> <td>String</td> <td>全程票价，单位：元</td></tr> <tr><td>via_stops</td> <td>String</td> <td>途径站，包括首发站和终点站</td></tr> <tr><td>distance</td> <td>Number</td> <td>全程距离，单位：千米</td></tr> <tr><td>bounds</td> <td>Bounds</td> <td>此公交路线的地理范围</td></tr> <tr><td>company</td> <td>String</td> <td>所属公交公司</td></tr></tbody></table> <h3 id="_7、出行规划"><a href="#_7、出行规划" class="header-anchor">#</a> 7、出行规划</h3> <p><strong>公交路径</strong>
公交换乘服务，提供起、终点公交路线规划服务，整合步行方式</p> <ul><li>初始化</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 加载公交线路插件</span>
AMap<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">&quot;AMap.Transfer&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实例化Transfer </span>
    <span class="token keyword">var</span> transfer<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Transfer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        city<span class="token operator">:</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 必须值，搭乘公交所在城市</span>
        map<span class="token operator">:</span>map<span class="token punctuation">,</span> <span class="token comment">// 可选值，搜索结果的标注、线路等均会自动添加到此地图上</span>
        panel<span class="token operator">:</span><span class="token string">&quot;panel&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 可选值，显示搜索列表的容器,</span>
        extensions<span class="token operator">:</span><span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 可选值，详细信息        </span>
        poliy<span class="token operator">:</span>AMap<span class="token punctuation">.</span>TransferPolicy<span class="token punctuation">.</span><span class="token constant">LEAST_TIME</span> <span class="token comment">// 驾驶策略：最省时模式</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>按关键字搜索</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 关键字搜索</span>
transfer<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>keyword<span class="token operator">:</span><span class="token string">&quot;北京西站&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>keyword<span class="token operator">:</span><span class="token string">&quot;天安门&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>按坐标搜索</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 按坐标搜索</span>
transfer<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">116.379028</span><span class="token punctuation">,</span> <span class="token number">39.865042</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">116.427281</span><span class="token punctuation">,</span> <span class="token number">39.903719</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map30.45ead27e.png" alt="map图39"></p> <p><strong>驾车路径</strong></p> <p>驾车路线规划服务，提供起、终点坐标的驾车导航路线查询功能</p> <ul><li>初始化</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 加载驾车路径插件</span>
AMap<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">&quot;AMap.Driving&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 实例化Driving    </span>
	<span class="token keyword">var</span> driving<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Driving</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        map<span class="token operator">:</span>map<span class="token punctuation">,</span> <span class="token comment">// 用来承载 显示路径</span>
        panel<span class="token operator">:</span><span class="token string">&quot;panel&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 显示搜索列表的容器</span>
        extensions<span class="token operator">:</span><span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 详细信息</span>
        policy<span class="token operator">:</span>AMap<span class="token punctuation">.</span>DrivingPolicy<span class="token punctuation">.</span><span class="token constant">REAL_TRAFFIC</span><span class="token punctuation">,</span> <span class="token comment">// 驾驶策略：合理交通</span>
        showTraffic<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示路况</span>
        province<span class="token operator">:</span><span class="token string">&quot;晋&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 判断限行</span>
        number<span class="token operator">:</span><span class="token string">&quot;A88888&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 判断限行</span>
        hideMarkers<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 隐藏起点、终点的点标注</span>
        isOutline<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否显示线路的边框</span>
        outlineColor<span class="token operator">:</span><span class="token string">&quot;#f00&quot;</span> <span class="token comment">// 边框颜色</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>按关键字搜索</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 按关键字搜索</span>
   driving<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>keyword<span class="token operator">:</span><span class="token string">&quot;北京西站&quot;</span><span class="token punctuation">,</span>city<span class="token operator">:</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>keyword<span class="token operator">:</span><span class="token string">&quot;天安门&quot;</span><span class="token punctuation">,</span>city<span class="token operator">:</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>按坐标搜索</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">/</span> 按坐标搜索
transfer<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">116.379028</span><span class="token punctuation">,</span> <span class="token number">39.865042</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">116.427281</span><span class="token punctuation">,</span> <span class="token number">39.903719</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>预览
<img src="/blog/assets/img/map31.45ead27e.png" alt="map图31"></p> <p>限行结果
0 代表限行已规避或未限行，即该路线没有限行路段
1 代表限行无法规避，即该线路有限行路段</p> <p><strong>步行路径</strong>
步行导航服务，提供起、终点步行路线规划服务</p> <ul><li>初始化</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 加载步行路径插件</span>
AMap<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token string">&quot;AMap.Walking&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> walking<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Walking</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        map<span class="token operator">:</span>map<span class="token punctuation">,</span>
        panel<span class="token operator">:</span><span class="token string">&quot;panel&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>按关键字搜索</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>walking<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>keyword<span class="token operator">:</span><span class="token string">&quot;方恒国际中心A座&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>keyword<span class="token operator">:</span><span class="token string">&quot;望京站&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>按坐标搜索</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>walking<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">116.379028</span><span class="token punctuation">,</span> <span class="token number">39.865042</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">116.427281</span><span class="token punctuation">,</span> <span class="token number">39.903719</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status<span class="token punctuation">,</span>result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>data<span class="token operator">=</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>预览
<img src="/blog/assets/img/map32.84c6fe19.png" alt="map图32"></p> <h3 id="_8、热力图插件"><a href="#_8、热力图插件" class="header-anchor">#</a> 8、热力图插件</h3> <p><strong>简单例子</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 显示地图</span>
<span class="token keyword">var</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;container&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    resizeEnable<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    center<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">116.397428</span><span class="token punctuation">,</span> <span class="token number">39.90923</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    zoom<span class="token operator">:</span><span class="token number">11</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 坐标点</span>
<span class="token keyword">var</span> points <span class="token operator">=</span><span class="token punctuation">[</span>
	<span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.191031</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.988585</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.389275</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.925818</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.287444</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.810742</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.481707</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.940089</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.410588</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.880172</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.394816</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.91181</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;lng&quot;</span><span class="token operator">:</span><span class="token number">116.416002</span><span class="token punctuation">,</span><span class="token string">&quot;lat&quot;</span><span class="token operator">:</span><span class="token number">39.952917</span><span class="token punctuation">,</span><span class="token string">&quot;count&quot;</span><span class="token operator">:</span><span class="token number">150</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 加载热力图插件</span>
map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.Heatmap&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 	<span class="token keyword">var</span> heatmap<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Heatmap</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span><span class="token punctuation">{</span>
    	radius<span class="token operator">:</span><span class="token number">50</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	heatmap<span class="token punctuation">.</span><span class="token function">setDataSet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   		data<span class="token operator">:</span>points<span class="token punctuation">,</span>
    	max<span class="token operator">:</span><span class="token number">100</span>
   	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>预览
<img src="/blog/assets/img/map33.53a2c4b9.png" alt="map图33"></p> <p><strong>参数</strong> <code>AMap.Heatmap</code></p> <table><thead><tr><th>构造函数</th> <th>说明</th></tr></thead> <tbody><tr><td>AMap.Heatmap(map:Map,opts:HeatmapOptions)</td> <td>构造一个热力图插件对象，map为要叠加热力图的地图对象，opts属性参考HeatmapOptions列表中的说明。</td></tr></tbody></table> <p><code>options</code></p> <table><thead><tr><th>HeatmapOptions</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>radius</td> <td>Number</td> <td>热力图中单个点的半径，默认：30，单位：pixel</td></tr> <tr><td>gradient</td> <td>Object</td> <td>热力图的渐变区间，热力图按照设置的颜色及间隔显示热力图，例：<code>{0.4:’rgb(0, 255, 255)’,0.65:’rgb(0, 110, 255)’,0.85:’rgb(100, 0, 255)’,1.0:’rgb(100, 0, 255)’}</code>其中 key 表示间隔位置，取值范围： [0,1]，value为颜色值。默认：heatmap.js标准配色方案</td></tr> <tr><td>opacity</td> <td>Array</td> <td>热力图透明度数组，取值范围[0,1]，0表示完全透明，1表示不透明，默认：[0,1]</td></tr> <tr><td>zooms</td> <td>Array</td> <td>支持的缩放级别范围，取值范围[3-18]，默认：[3,18]</td></tr></tbody></table> <h3 id="_9、点聚合插件"><a href="#_9、点聚合插件" class="header-anchor">#</a> 9、点聚合插件</h3> <p>用于地图上加载大量点标记，提高地图浏览性能。点聚合支持用户自定义点标记</p> <p><strong>加载地图</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 加载地图</span>
<span class="token keyword">var</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;container&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    resizeEnable<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    center<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">116.397428</span><span class="token punctuation">,</span> <span class="token number">39.90923</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    zoom<span class="token operator">:</span><span class="token number">11</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>生成点标记</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 生成点标记</span>
<span class="token keyword">var</span> markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> marker<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    marker<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        position<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">116.39</span><span class="token operator">+</span><span class="token number">0.001</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>i<span class="token punctuation">,</span> <span class="token number">39.90</span><span class="token operator">-</span><span class="token number">0.001</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        icon<span class="token operator">:</span> <span class="token string">&quot;http://amappc.cn-hangzhou.oss-pub.aliyun-inc.com/lbs/static/img/marker.png&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    marker<span class="token punctuation">.</span><span class="token function">setMap</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    markers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>载入点聚合插件</strong></p> <ul><li>默认样式</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MarkerClusterer&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cluster<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>markers<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>预览</p> <p><img src="/blog/assets/img/map34.7419749f.png" alt="map图34"></p> <ul><li>自定义样式</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 聚合样式</span>
<span class="token keyword">var</span> sts<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">&quot;http://a.amap.com/lbs/static/img/1102-1.png&quot;</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    imageOffset<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">&quot;http://a.amap.com/lbs/static/img/2.png&quot;</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">&quot;http://lbs.amap.com/wp-content/uploads/2014/06/3.png&quot;</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    offset<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>Pixel</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    textColor<span class="token operator">:</span><span class="token string">&quot;#f00&quot;</span><span class="token punctuation">,</span>
    textSize<span class="token operator">:</span><span class="token number">30</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 载入插件</span>
map<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;AMap.MarkerClusterer&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cluster<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AMap<span class="token punctuation">.</span>MarkerClusterer</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>markers<span class="token punctuation">,</span><span class="token punctuation">{</span>
        styles<span class="token operator">:</span>sts
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>预览</p> <p><img src="/blog/assets/img/map35.3228d12f.png" alt="map图35"></p> <p><strong>MarkerClustererOptions</strong> <img src="/blog/assets/img/map36.1e85481f.png" alt="map图36"></p> <h3 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h3> <h4 id="vue-cli-异步引入高德地图"><a href="#vue-cli-异步引入高德地图" class="header-anchor">#</a> vue-cli 异步引入高德地图</h4> <h4 id="内网使用高德地图"><a href="#内网使用高德地图" class="header-anchor">#</a> 内网使用高德地图</h4></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/30/2025, 3:01:30 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/accumulate/vue开发插件.html" class="prev">
        vue开发插件
      </a></span> <span class="next"><a href="/blog/accumulate/svg.html">
        svg
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.b20ed355.js" defer></script><script src="/blog/assets/js/2.5595bcc7.js" defer></script><script src="/blog/assets/js/3.d4555585.js" defer></script>
  </body>
</html>
